-- Create "assets" table
CREATE TABLE "assets" ("id" uuid NOT NULL DEFAULT generate_uuidv7(), "project_id" uuid NOT NULL, "name" text NOT NULL, "url" text NOT NULL, "kind" text NOT NULL, "content_type" text NOT NULL, "content_length" bigint NOT NULL, "sha256" text NOT NULL, "created_at" timestamptz NOT NULL DEFAULT clock_timestamp(), "updated_at" timestamptz NOT NULL DEFAULT clock_timestamp(), "deleted_at" timestamptz NULL, "deleted" boolean NOT NULL GENERATED ALWAYS AS (deleted_at IS NOT NULL) STORED, PRIMARY KEY ("id"), CONSTRAINT "assets_project_id_sha256_key" UNIQUE ("project_id", "sha256"));
