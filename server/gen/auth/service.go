// Code generated by goa v3.20.0, DO NOT EDIT.
//
// auth service
//
// Command:
// $ goa gen github.com/speakeasy-api/gram/design

package auth

import (
	"context"

	"goa.design/goa/v3/security"
)

// Managed auth for gram producers and dashboard.
type Service interface {
	// Handles the authentication callback.
	AuthCallback(context.Context, *AuthCallbackPayload) (res *AuthCallbackResult, err error)
	// Switches the authentication scope to a different organization.
	AuthSwitchScopes(context.Context, *AuthSwitchScopesPayload) (res *AuthSwitchScopesResult, err error)
	// Logs out the current user by clearing their session.
	AuthLogout(context.Context, *AuthLogoutPayload) (res *AuthLogoutResult, err error)
	// Provides information about the current authentication status.
	AuthInfo(context.Context, *AuthInfoPayload) (res *AuthInfoResult, err error)
}

// Auther defines the authorization functions to be implemented by the service.
type Auther interface {
	// APIKeyAuth implements the authorization logic for the APIKey security scheme.
	APIKeyAuth(ctx context.Context, key string, schema *security.APIKeyScheme) (context.Context, error)
}

// APIName is the name of the API as defined in the design.
const APIName = "gram"

// APIVersion is the version of the API as defined in the design.
const APIVersion = "0.0.1"

// ServiceName is the name of the service as defined in the design. This is the
// same value that is set in the endpoint request contexts under the ServiceKey
// key.
const ServiceName = "auth"

// MethodNames lists the service method names as defined in the design. These
// are the same values that are set in the endpoint request contexts under the
// MethodKey key.
var MethodNames = [4]string{"auth callback", "auth switch scopes", "auth logout", "auth info"}

// AuthCallbackPayload is the payload type of the auth service auth callback
// method.
type AuthCallbackPayload struct {
	// The shared token for authentication from the speakeasy system
	SharedToken string
}

// AuthCallbackResult is the result type of the auth service auth callback
// method.
type AuthCallbackResult struct {
	// The URL to redirect to after authentication
	Location string
	// The authentication session
	GramSessionToken string
	// The authentication session
	GramSessionCookie string
}

// AuthInfoPayload is the payload type of the auth service auth info method.
type AuthInfoPayload struct {
	GramSessionToken *string
}

// AuthInfoResult is the result type of the auth service auth info method.
type AuthInfoResult struct {
	UserID               string
	UserEmail            string
	ActiveOrganizationID string
	ActiveProjectID      string
	Organizations        []*Organization
	// The authentication session
	GramSessionToken string
	// The authentication session
	GramSessionCookie string
}

// AuthLogoutPayload is the payload type of the auth service auth logout method.
type AuthLogoutPayload struct {
	GramSessionToken *string
}

// AuthLogoutResult is the result type of the auth service auth logout method.
type AuthLogoutResult struct {
	// Empty string to clear the session
	GramSessionCookie string
}

// AuthSwitchScopesPayload is the payload type of the auth service auth switch
// scopes method.
type AuthSwitchScopesPayload struct {
	// The organization slug to switch scopes
	OrganizationID *string
	// The project id to switch scopes too
	ProjectID        *string
	GramSessionToken *string
}

// AuthSwitchScopesResult is the result type of the auth service auth switch
// scopes method.
type AuthSwitchScopesResult struct {
	// The authentication session
	GramSessionToken string
	// The authentication session
	GramSessionCookie string
}

type Organization struct {
	OrganizationID   string
	OrganizationName string
	OrganizationSlug string
	AccountType      string
	Projects         []*Project
}

type Project struct {
	ProjectID string
}
