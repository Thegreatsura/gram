// Code generated by goa v3.20.1, DO NOT EDIT.
//
// deployments HTTP client CLI support package
//
// Command:
// $ goa gen github.com/speakeasy-api/gram/design

package client

import (
	"encoding/json"
	"fmt"

	deployments "github.com/speakeasy-api/gram/gen/deployments"
)

// BuildGetDeploymentPayload builds the payload for the deployments
// getDeployment endpoint from CLI flags.
func BuildGetDeploymentPayload(deploymentsGetDeploymentID string, deploymentsGetDeploymentSessionToken string, deploymentsGetDeploymentProjectSlugInput string) (*deployments.GetDeploymentPayload, error) {
	var id string
	{
		id = deploymentsGetDeploymentID
	}
	var sessionToken *string
	{
		if deploymentsGetDeploymentSessionToken != "" {
			sessionToken = &deploymentsGetDeploymentSessionToken
		}
	}
	var projectSlugInput *string
	{
		if deploymentsGetDeploymentProjectSlugInput != "" {
			projectSlugInput = &deploymentsGetDeploymentProjectSlugInput
		}
	}
	v := &deployments.GetDeploymentPayload{}
	v.ID = id
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}

// BuildCreateDeploymentPayload builds the payload for the deployments
// createDeployment endpoint from CLI flags.
func BuildCreateDeploymentPayload(deploymentsCreateDeploymentBody string, deploymentsCreateDeploymentSessionToken string, deploymentsCreateDeploymentProjectSlugInput string, deploymentsCreateDeploymentIdempotencyKey string) (*deployments.CreateDeploymentPayload, error) {
	var err error
	var body CreateDeploymentRequestBody
	{
		err = json.Unmarshal([]byte(deploymentsCreateDeploymentBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"external_id\": \"bc5f4a555e933e6861d12edba4c2d87ef6caf8e6\",\n      \"external_url\": \"Ut reiciendis dolore est alias adipisci deserunt.\",\n      \"github_pr\": \"1234\",\n      \"github_repo\": \"speakeasyapi/gram\",\n      \"github_sha\": \"f33e693e9e12552043bc0ec5c37f1b8a9e076161\",\n      \"openapiv3_assets\": [\n         {\n            \"asset_id\": \"Et laudantium vel.\",\n            \"name\": \"Odit doloribus.\",\n            \"slug\": \"Quia qui nisi aliquid.\"\n         },\n         {\n            \"asset_id\": \"Et laudantium vel.\",\n            \"name\": \"Odit doloribus.\",\n            \"slug\": \"Quia qui nisi aliquid.\"\n         },\n         {\n            \"asset_id\": \"Et laudantium vel.\",\n            \"name\": \"Odit doloribus.\",\n            \"slug\": \"Quia qui nisi aliquid.\"\n         },\n         {\n            \"asset_id\": \"Et laudantium vel.\",\n            \"name\": \"Odit doloribus.\",\n            \"slug\": \"Quia qui nisi aliquid.\"\n         }\n      ]\n   }'")
		}
	}
	var sessionToken *string
	{
		if deploymentsCreateDeploymentSessionToken != "" {
			sessionToken = &deploymentsCreateDeploymentSessionToken
		}
	}
	var projectSlugInput *string
	{
		if deploymentsCreateDeploymentProjectSlugInput != "" {
			projectSlugInput = &deploymentsCreateDeploymentProjectSlugInput
		}
	}
	var idempotencyKey string
	{
		idempotencyKey = deploymentsCreateDeploymentIdempotencyKey
	}
	v := &deployments.CreateDeploymentPayload{
		GithubRepo:  body.GithubRepo,
		GithubPr:    body.GithubPr,
		GithubSha:   body.GithubSha,
		ExternalID:  body.ExternalID,
		ExternalURL: body.ExternalURL,
	}
	if body.Openapiv3Assets != nil {
		v.Openapiv3Assets = make([]*deployments.OpenAPIv3DeploymentAssetForm, len(body.Openapiv3Assets))
		for i, val := range body.Openapiv3Assets {
			v.Openapiv3Assets[i] = marshalOpenAPIv3DeploymentAssetFormRequestBodyToDeploymentsOpenAPIv3DeploymentAssetForm(val)
		}
	}
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput
	v.IdempotencyKey = idempotencyKey

	return v, nil
}

// BuildAddOpenAPIv3SourcePayload builds the payload for the deployments
// addOpenAPIv3Source endpoint from CLI flags.
func BuildAddOpenAPIv3SourcePayload(deploymentsAddOpenAPIv3SourceBody string, deploymentsAddOpenAPIv3SourceSessionToken string, deploymentsAddOpenAPIv3SourceProjectSlugInput string) (*deployments.AddOpenAPIv3SourcePayload, error) {
	var err error
	var body AddOpenAPIv3SourceRequestBody
	{
		err = json.Unmarshal([]byte(deploymentsAddOpenAPIv3SourceBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"asset_id\": \"Esse vel.\",\n      \"name\": \"Autem quasi porro accusantium velit accusamus.\",\n      \"slug\": \"Quis similique culpa.\"\n   }'")
		}
	}
	var sessionToken *string
	{
		if deploymentsAddOpenAPIv3SourceSessionToken != "" {
			sessionToken = &deploymentsAddOpenAPIv3SourceSessionToken
		}
	}
	var projectSlugInput *string
	{
		if deploymentsAddOpenAPIv3SourceProjectSlugInput != "" {
			projectSlugInput = &deploymentsAddOpenAPIv3SourceProjectSlugInput
		}
	}
	v := &deployments.AddOpenAPIv3SourcePayload{
		AssetID: body.AssetID,
		Name:    body.Name,
		Slug:    body.Slug,
	}
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}

// BuildListDeploymentsPayload builds the payload for the deployments
// listDeployments endpoint from CLI flags.
func BuildListDeploymentsPayload(deploymentsListDeploymentsCursor string, deploymentsListDeploymentsSessionToken string, deploymentsListDeploymentsProjectSlugInput string) (*deployments.ListDeploymentsPayload, error) {
	var cursor *string
	{
		if deploymentsListDeploymentsCursor != "" {
			cursor = &deploymentsListDeploymentsCursor
		}
	}
	var sessionToken *string
	{
		if deploymentsListDeploymentsSessionToken != "" {
			sessionToken = &deploymentsListDeploymentsSessionToken
		}
	}
	var projectSlugInput *string
	{
		if deploymentsListDeploymentsProjectSlugInput != "" {
			projectSlugInput = &deploymentsListDeploymentsProjectSlugInput
		}
	}
	v := &deployments.ListDeploymentsPayload{}
	v.Cursor = cursor
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}
