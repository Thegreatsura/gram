// Code generated by goa v3.20.0, DO NOT EDIT.
//
// deployments service
//
// Command:
// $ goa gen github.com/speakeasy-api/gram/design

package deployments

import (
	"context"

	"goa.design/goa/v3/security"
)

// Manages deployments of tools from upstream sources.
type Service interface {
	// Create a deployment to load tool definitions.
	GetDeployment(context.Context, *GetDeploymentPayload) (res *DeploymentGetResult, err error)
	// Create a deployment to load tool definitions.
	CreateDeployment(context.Context, *CreateDeploymentPayload) (res *DeploymentCreateResult, err error)
	// List all deployments in descending order of creation.
	ListDeployments(context.Context, *ListDeploymentsPayload) (res *DeploymentListResult, err error)
}

// Auther defines the authorization functions to be implemented by the service.
type Auther interface {
	// APIKeyAuth implements the authorization logic for the APIKey security scheme.
	APIKeyAuth(ctx context.Context, key string, schema *security.APIKeyScheme) (context.Context, error)
}

// APIName is the name of the API as defined in the design.
const APIName = "gram"

// APIVersion is the version of the API as defined in the design.
const APIVersion = "0.0.1"

// ServiceName is the name of the service as defined in the design. This is the
// same value that is set in the endpoint request contexts under the ServiceKey
// key.
const ServiceName = "deployments"

// MethodNames lists the service method names as defined in the design. These
// are the same values that are set in the endpoint request contexts under the
// MethodKey key.
var MethodNames = [3]string{"getDeployment", "createDeployment", "listDeployments"}

// CreateDeploymentPayload is the payload type of the deployments service
// createDeployment method.
type CreateDeploymentPayload struct {
	// The external ID to refer to the deployment. This can be a git commit hash
	// for example.
	ExternalID *string
	// The upstream URL a deployment can refer to. This can be a github url to a
	// commit hash or pull request.
	ExternalURL *string
	// The HTTP tools available in the deployment.
	Openapi3p1Tools []*OpenAPI3P1ToolForm
	GramSession     *string
}

type Deployment struct {
	// The ID to of the deployment.
	ID string
	// The ID of the organization that the deployment belongs to.
	OrganizationID string
	// The ID of the project that the deployment belongs to.
	ProjectID string
	// The ID of the user that created the deployment.
	UserID string
	// The creation date of the deployment.
	CreatedAt string
	// The external ID to refer to the deployment. This can be a git commit hash
	// for example.
	ExternalID *string
	// The upstream URL a deployment can refer to. This can be a github url to a
	// commit hash or pull request.
	ExternalURL *string
	// The HTTP tools available in the deployment.
	Openapi3p1Tools []*OpenAPI3P1ToolForm
}

// DeploymentCreateResult is the result type of the deployments service
// createDeployment method.
type DeploymentCreateResult struct {
	// The ID to of the deployment.
	ID string
	// The ID of the organization that the deployment belongs to.
	OrganizationID string
	// The ID of the project that the deployment belongs to.
	ProjectID string
	// The ID of the user that created the deployment.
	UserID string
	// The creation date of the deployment.
	CreatedAt string
	// The external ID to refer to the deployment. This can be a git commit hash
	// for example.
	ExternalID *string
	// The upstream URL a deployment can refer to. This can be a github url to a
	// commit hash or pull request.
	ExternalURL *string
	// The HTTP tools available in the deployment.
	Openapi3p1Tools []*OpenAPI3P1ToolForm
}

// DeploymentGetResult is the result type of the deployments service
// getDeployment method.
type DeploymentGetResult struct {
	// The ID to of the deployment.
	ID string
	// The ID of the organization that the deployment belongs to.
	OrganizationID string
	// The ID of the project that the deployment belongs to.
	ProjectID string
	// The ID of the user that created the deployment.
	UserID string
	// The creation date of the deployment.
	CreatedAt string
	// The external ID to refer to the deployment. This can be a git commit hash
	// for example.
	ExternalID *string
	// The upstream URL a deployment can refer to. This can be a github url to a
	// commit hash or pull request.
	ExternalURL *string
	// The HTTP tools available in the deployment.
	Openapi3p1Tools []*OpenAPI3P1ToolForm
}

// DeploymentListResult is the result type of the deployments service
// listDeployments method.
type DeploymentListResult struct {
	// The cursor to fetch results from
	NextCursor *string
	// A list of deployments
	Items []*Deployment
}

// GetDeploymentPayload is the payload type of the deployments service
// getDeployment method.
type GetDeploymentPayload struct {
	// The ID of the deployment
	ID          string
	GramSession *string
}

type JSONSchema string

// ListDeploymentsPayload is the payload type of the deployments service
// listDeployments method.
type ListDeploymentsPayload struct {
	// The cursor to fetch results from
	Cursor *string
	// Results per page
	Limit       int
	GramSession *string
}

type OpenAPI3P1ParameterSchema struct {
	// The name of the parameter.
	Name string
	// A brief description of the parameter.
	Description *string
	// The location of the parameter in an HTTP request.
	In string
	// Whether the parameter is required.
	Required bool
	// The style of the parameter.
	Style *string
	// Whether the parameter is exploded.
	Explode *bool
	// Whether the parameter is allowed to be reserved.
	AllowReserved *bool
	// The JSON Schema describing the parameter.
	Schema *JSONSchema
	// A brief description of the parameter.
	Deprecated bool
	// An example value for the parameter.
	Example any
	// Examples of the parameter.
	Examples map[string]any
}

type OpenAPI3P1ToolForm struct {
	Kind string
	// The name of the tool.
	Name string
	// The description that is provided with the tool.
	Description string
	// The tags that are associated with the tool.
	Tags []string
	// The path of the HTTP endpoint.
	Path string
	// The method to use for the HTTP request.
	Method string
	// A map of path parameters to interpolate into the path of the HTTP request.
	PathParameters map[string]*OpenAPI3P1ParameterSchema
	// A map of header schemas to send with the HTTP request.
	HeaderParameters map[string]*OpenAPI3P1ParameterSchema
	// A map of query parameters to send with the HTTP request.
	QueryParameters map[string]*OpenAPI3P1ParameterSchema
	// The JSON Schema describing the body of the HTTP request.
	Body JSONSchema
}
